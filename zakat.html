<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>زكاة المال - GiveHope</title>
  
  <!-- الخط الموحّد -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="casedetails.css">

  <style>
    body {
      background: #f0f4f8;
      color: #1e293b;
      font-family: 'Cairo', sans-serif;
    }

    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 20px;
    }

    .hero-card {
      background: white;
      padding: 2.5rem;
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      text-align: center;
      margin-bottom: 2rem;
    }

    .hero-card h1 {
      color: var(--accent-color, #1E40AF);
      margin-bottom: 1rem;
    }

    .btn {
      display: inline-block;
      background: linear-gradient(to right, var(--primary-color, #3B82F6), var(--secondary-color, #2563EB));
      color: white;
      border: none;
      padding: 13px 30px;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: 10px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
      font-family: 'Cairo', sans-serif;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(59, 130, 246, 0.35);
    }

    .calculator-box {
      background: white;
      padding: 2.5rem;
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
    }

    .calculator-box h2 {
      text-align: center;
      color: var(--accent-color, #1E40AF);
      margin-bottom: 1.8rem;
      font-size: 1.8rem;
    }

    .form-group {
      margin-bottom: 1.4rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-color, #1F2937);
      text-align: right;
    }

    .form-group input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      font-size: 1.05rem;
      font-family: 'Cairo', sans-serif;
      background: #fafbff;
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--primary-color, #3B82F6);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
    }

    /* بوكس النتيجة الصغير */
    .result-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
      z-index: 1000;
      text-align: center;
      max-width: 90%;
      width: 400px;
      display: none;
    }

    .result-popup.show {
      display: block;
    }

    .result-popup h3 {
      color: var(--accent-color, #1E40AF);
      margin-bottom: 1rem;
    }

    .total-amount {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--primary-color, #3B82F6);
      margin: 1rem 0;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
      display: none;
    }

    .overlay.show {
      display: block;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <div id="navbar-placeholder"></div>

  <!-- Page Header -->
  <section class="page-header">
    <h1>زكاة المال</h1>
    <p>﴿ خُذْ مِنْ أَمْوَالِهِمْ صَدَقَةً تُطَهِّرُهُمْ وَتُزَكِّيهِمْ بِهَا ﴾</p>
  </section>

  <main>
    <div class="hero-card">
      <h1>إخراج الزكاة</h1>
      
      <a href="DonateNow.html" class="btn">
        <i class="fas fa-hand-holding-usd"></i> أخرج زكاتك الآن
      </a>
    </div>

    <div class="calculator-box">
      <h2>احسب زكاتك</h2>
      <form id="zakatForm">
        <div class="form-group">
          <label for="cash">قيمة الأموال النقدية (بالشيكل)</label>
          <input type="number" id="cash" placeholder="مثال: 10000" min="0">
        </div>
        <div class="form-group">
          <label for="gold">قيمة الذهب (بالشيكل)</label>
          <input type="number" id="gold" placeholder="مثال: 5000" min="0">
        </div>
        <div class="form-group">
          <label for="silver">قيمة الفضة (بالشيكل)</label>
          <input type="number" id="silver" placeholder="مثال: 2000" min="0">
        </div>
        <div class="form-group">
          <label for="investments">الاستثمارات والأسهم (بالشيكل)</label>
          <input type="number" id="investments" placeholder="مثال: 15000" min="0">
        </div>
        <button type="submit" class="btn" style="width: 100%;">
          <i class="fas fa-calculator"></i> احسب الزكاة
        </button>
      </form>
    </div>
  </main>

  <!-- بوكس النتيجة المنبثق -->
  <div class="overlay" id="overlay"></div>
  <div class="result-popup" id="resultPopup">
    <h3>إجمالي الزكاة المستحقة</h3>
    <div class="total-amount" id="totalZakat">0 شيكل</div>
    <a href="DonateNow.html" class="btn">
      <i class="fas fa-check-circle"></i> ادفع زكاتك الآن
    </a>
  </div>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <!-- تحميل المكونات -->
  <script>
    function loadHTML(id, file) {
      fetch(file)
        .then(res => res.text())
        .then(html => document.getElementById(id).innerHTML = html)
        .catch(err => console.error('خطأ في تحميل', file, err));
    }

    document.addEventListener('DOMContentLoaded', () => {
      loadHTML('navbar-placeholder', 'navbar.html');
      loadHTML('footer-placeholder', 'footer.html');
    });
  </script>

  <!-- سكريبتات الـ Navbar -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const check = setInterval(() => {
        const toggle = document.getElementById('menuToggle');
        const nav = document.getElementById('navLinks');
        if (toggle && nav) {
          clearInterval(check);
          toggle.onclick = (e) => {
            e.stopPropagation();
            nav.classList.toggle('active');
          };
          document.onclick = (e) => {
            if (!e.target.closest('.navbar')) {
              nav.classList.remove('active');
              document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('active'));
            }
          };
          nav.onclick = (e) => e.stopPropagation();
          document.querySelectorAll('.dropdown-toggle').forEach(btn => {
            btn.onclick = (e) => {
              if (window.innerWidth <= 992) {
                e.preventDefault();
                const dropdown = btn.parentElement;
                dropdown.classList.toggle('active');
                document.querySelectorAll('.dropdown').forEach(d => {
                  if (d !== dropdown) d.classList.remove('active');
                });
              }
            };
          });
          window.onresize = () => {
            if (window.innerWidth > 992) {
              nav.classList.remove('active');
              document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('active'));
            }
          };
        }
      }, 100);
    });
  </script>

 <script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('zakatForm');
    const overlay = document.getElementById('overlay');
    const popup = document.getElementById('resultPopup');

    // نصاب الزكاة = 85 جرام ذهب × 300 شيكل (سعر تقديري)
    const NISAB = 85 * 300; // 25,500 شيكل

    form?.addEventListener('submit', (e) => {
      e.preventDefault();

      // جمع القيم
      const cash = parseFloat(document.getElementById('cash').value) || 0;
      const gold = parseFloat(document.getElementById('gold').value) || 0;
      const silver = parseFloat(document.getElementById('silver').value) || 0;
      const investments = parseFloat(document.getElementById('investments').value) || 0;

      const totalAssets = cash + gold + silver + investments;

      
      form.reset();

      //  الرسالة
      let resultHTML = '';
      if (totalAssets < NISAB) {
        resultHTML = `
          <h3>لا تجب عليك الزكاة</h3>
          <p style="color: #e74c3c; margin: 1rem 0; font-size: 1.1rem;">
            مجموع أموالك (<strong>${totalAssets.toFixed(2)} شيكل</strong>) 
            أقل من نصاب الزكاة (<strong>${NISAB.toLocaleString()} شيكل</strong>).
          </p>
          <p>لا يُشترط إخراج زكاة حتى يبلغ المال النصاب.</p>
        `;
      } else {
        const zakat = totalAssets * 0.025;
        resultHTML = `
          <h3>إجمالي الزكاة المستحقة</h3>
          <div class="total-amount">${zakat.toFixed(2)} شيكل</div>
          <a href="DonateNow.html" class="btn" style="margin-top: 1rem; display: inline-block;">
            <i class="fas fa-check-circle"></i> ادفع زكاتك الآن
          </a>
        `;
      }

      popup.innerHTML = resultHTML;
      overlay.classList.add('show');
      popup.classList.add('show');
    });

    overlay?.addEventListener('click', () => {
      overlay.classList.remove('show');
      popup.classList.remove('show');
    });
  });
</script>
</body>
</html>