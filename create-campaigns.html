<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>إنشاء حملة - GiveHope</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="casedetails.css">
  <style>
    body {
      background: #f0f4f8;
      color: #1e293b;
      font-family: 'Cairo', sans-serif;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 20px;
    }
    .form-box {
      background: white;
      padding: 2.5rem;
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    }
    .form-box h1 {
      text-align: center;
      color: var(--accent-color);
      margin-bottom: 2rem;
    }
    .form-group {
      margin-bottom: 1.5rem;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-color, #1F2937);
      text-align: right;
    }
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      font-size: 1.05rem;
      font-family: 'Cairo', sans-serif;
      background: #fafbff;
    }
    .form-group textarea {
      min-height: 140px;
      resize: vertical;
    }
    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(59,130,246,0.15);
    }
    .preview-image {
      width: 120px;
      height: 120px;
      border-radius: 12px;
      background: #dbeafe;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      color: #1e40af;
      font-size: 2.5rem;
    }
    .btn {
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      color: white;
      border: none;
      padding: 13px 32px;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: 10px;
      cursor: pointer;
      display: block;
      margin: 1.5rem auto 0;
      font-family: 'Cairo', sans-serif;
      box-shadow: 0 4px 12px rgba(59,130,246,0.25);
    }

    /* بوكس الرسالة تحت النموذج */
    .success-message {
      background: #d1fae5;
      color: #065f46;
      padding: 1.2rem;
      border-radius: 14px;
      text-align: center;
      font-weight: 600;
      margin-top: 2rem;
      display: none;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      border-right: 4px solid #10b981;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <div id="navbar-placeholder"></div>

  <section class="page-header">
    <h1>إنشاء حملة</h1>
    <p>﴿ وَمَن يَفْعَلْ ذَٰلِكَ ابْتِغَاءَ مَرْضَاتِ اللَّهِ فَسَوْفَ نُؤْتِيهِ أَجْرًا عَظِيمًا ﴾</p>
  </section>

  <main>
    <div class="form-box">
      <h1>أنشئ حملتك الخاصة</h1>
      <form id="campaignForm">
        <div class="form-group">
          <label for="title">اسم الحملة</label>
          <input type="text" id="title" required placeholder="مثال: #غذاء_الأمل">
        </div>
        <div class="form-group">
          <label for="goal">الهدف المالي (بالدولار)</label>
          <input type="number" id="goal" min="1" required placeholder="مثال: 10000">
        </div>
        <div class="form-group">
          <label for="duration">المدة (بالأيام)</label>
          <input type="number" id="duration" min="1" required placeholder="مثال: 30">
        </div>
        <div class="form-group">
          <label for="description">الوصف</label>
          <textarea id="description" required placeholder="اشرح هدف الحملة وسبب أهميتها..."></textarea>
        </div>
        <div class="form-group">
          <label for="image">صورة الحملة (اختياري)</label>
          <input type="file" id="image" accept="image/*">
          <div class="preview-image" id="imagePreview">
            <i class="fas fa-image"></i>
          </div>
        </div>
        <button type="submit" class="btn">
          <i class="fas fa-paper-plane"></i> إنشاء الحملة
        </button>
      </form>
    </div>

    <!-- بوكس الرسالة تحت النموذج -->
    <div class="success-message" id="successMsg">
      تم إرسال اقتراح الحملة. بانتظار موافقة الجهة المسؤولة. شكرًا لمشاركتك معنا!
    </div>
  </main>

  <div id="footer-placeholder"></div>

  <!-- تحميل المكونات -->
  <script>
    function loadHTML(id, file) {
      fetch(file)
        .then(res => res.text())
        .then(html => document.getElementById(id).innerHTML = html)
        .catch(err => console.error('خطأ في تحميل', file, err));
    }
    document.addEventListener('DOMContentLoaded', () => {
      loadHTML('navbar-placeholder', 'navbar.html');
      loadHTML('footer-placeholder', 'footer.html');
    });
  </script>

  <!-- سكريبتات الـ Navbar -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const check = setInterval(() => {
        const toggle = document.getElementById('menuToggle');
        const nav = document.getElementById('navLinks');
        if (toggle && nav) {
          clearInterval(check);
          toggle.onclick = (e) => {
            e.stopPropagation();
            nav.classList.toggle('active');
          };
          document.onclick = (e) => {
            if (!e.target.closest('.navbar')) {
              nav.classList.remove('active');
              document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('active'));
            }
          };
          nav.onclick = (e) => e.stopPropagation();
          document.querySelectorAll('.dropdown-toggle').forEach(btn => {
            btn.onclick = (e) => {
              if (window.innerWidth <= 992) {
                e.preventDefault();
                const dropdown = btn.parentElement;
                dropdown.classList.toggle('active');
                document.querySelectorAll('.dropdown').forEach(d => {
                  if (d !== dropdown) d.classList.remove('active');
                });
              }
            };
          });
          window.onresize = () => {
            if (window.innerWidth > 992) {
              nav.classList.remove('active');
              document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('active'));
            }
          };
        }
      }, 100);
    });
  </script>

  <!-- وظيفة النموذج -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('campaignForm');
      const successMsg = document.getElementById('successMsg');
      const imageInput = document.getElementById('image');
      const preview = document.getElementById('imagePreview');

      imageInput?.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (ev) => {
            preview.innerHTML = `<img src="${ev.target.result}" alt="معاينة" style="width:100%;height:100%;border-radius:12px;object-fit:cover;">`;
          };
          reader.readAsDataURL(file);
        } else {
          preview.innerHTML = '<i class="fas fa-image"></i>';
        }
      });

      form?.addEventListener('submit', (e) => {
        e.preventDefault();
        form.reset();
        preview.innerHTML = '<i class="fas fa-image"></i>';
        successMsg.style.display = 'block';
        // التمرير إلى الرسالة (في المنتصف)
        successMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
      });
    });
  </script>
</body>
</html>